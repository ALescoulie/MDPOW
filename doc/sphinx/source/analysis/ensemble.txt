================
Ensemble Objects
================
This section assumes a basic understanding of objects in python and is
for users who wish to construct their own analyses.

Ensemble
________

The :class:`Ensemble` object is a collection of :class:`MDAnalyis.Universe` objects.
It is intended to store the set of systems generated by running mdpow-fep.

The :class:`Ensemble` object works by storing the systems in a dictionary and extending the functionality
of an :class:`MDAnalysis.Universe` to a collection of universes. It when given a directory finds the simulation
files, reads then loads them into a dictionary. The object can be indexed the same as a dictionary,
and has methods analogous the the Universe object. The main one being select_atoms which returns
a EnsembleAtomGroup. An :class:`Ensemble`in its current form can also be built by manually adding and popping
universes into an empty instance.

.. autoclass:: mdpow.analysis.ensemble.Ensemble
    :members:

EnsembleAtomGroup
_________________

The :class:`EnsembleAtomGroup` is created by running the select_atoms method on an :class:`Ensemble`. It stores
:class:`MDAnalysis.AtomGroup` selections of the groups generated by running select atom on individual universes
in a dictionary with the same key structure as the parent :class:`Ensemble` class. It returns a copy of the parent
:class:`Ensemble` object when the :class:`Ensemble` method is run.

.. autoclass:: mdpow.analysis.ensemble.EnsembleAtomGroup
    :members:
