=================
 Analysis modules
=================

The Analysis modules help in the implementation analyses of
:mod: MDPOW simulations. To simplify the process of analyzing
a collection of systems generated by a free energy simulation
the objects in mdpow.ensemble allow for a molecule directory's
systems to be loaded into [MDAnalysis](https://mdanalysis.org)
Universes and be analyzed as a group.

.. Note:: The analysis module is a feature of 0.8.0 which only supports
          python 3. It will still analyze existing simulations, but is not
          included in existing python 2 MDPOW environment.

Ensemble Objects
================

This section assumes a basic understanding of objects in python and is
for users who wish to construct their own analyses.

Ensemble
________

The Ensemble object is a collection of [MDAnalysis](https://mdanalyis.org) Universe objects.
It is intended to store the set of systems generated by running mdpow-fep.

The Ensemble object works by storing the systems in a dictionary and extending the functionality
of a Universe object to a collection of universes. It when given a directory finds the simulation
files, reads then loads them into a dictionary. The object can be indexed the same way as a python
dictionary.

.. autoclass:: mdpow.ensemble.Ensemble
    :members:

EnsembleAtomGroup
_________________

.. autoclass:: mdpow.ensemble.EnsembleAtomGroup
    :members:

EnsembleAnalysis
----------------

.. autoclass:: mdpow.ensemble.EnsembleAnalysis
    :members:

    .. automethod:: _prepare_ensemble

    .. automethod:: _prepare_universe

    .. automethod:: _single_universe

    .. automethod:: _single_frame

    .. automethod:: _conclude_ensemble

    .. automethod:: _conclude_universe
